{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://localhost:8000';\nexport const classifyImage = async (file, modelName) => {\n  const formData = new FormData();\n  formData.append('image', file);\n  formData.append('model_name', modelName);\n  try {\n    const response = await axios.post(`${API_BASE_URL}/classify`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        'Accept': 'application/json'\n      }\n    });\n    if (!response.data) {\n      throw new Error('No data received from server');\n    }\n    return {\n      class: response.data.predicted_class || response.data.class,\n      confidence: response.data.confidence || response.data.probability,\n      gradcam: response.data.gradcam_image || response.data.heatmap,\n      original: response.data.preprocessed_image || response.data.original\n    };\n  } catch (error) {\n    if (error.response) {\n      // Server responded with error\n      throw new Error(error.response.data.detail || error.response.data.message || 'Server error');\n    } else if (error.request) {\n      // Request made but no response\n      throw new Error('No response from server. Please check if the server is running.');\n    } else {\n      // Error in request setup\n      throw new Error(error.message);\n    }\n  }\n};","map":{"version":3,"names":["axios","API_BASE_URL","classifyImage","file","modelName","formData","FormData","append","response","post","headers","data","Error","class","predicted_class","confidence","probability","gradcam","gradcam_image","heatmap","original","preprocessed_image","error","detail","message","request"],"sources":["C:/eye/frontend/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = 'http://localhost:8000';\r\n\r\nexport const classifyImage = async (file, modelName) => {\r\n  const formData = new FormData();\r\n  formData.append('image', file);\r\n  formData.append('model_name', modelName);\r\n\r\n  try {\r\n    const response = await axios.post(`${API_BASE_URL}/classify`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        'Accept': 'application/json'\r\n      }\r\n    });\r\n\r\n    if (!response.data) {\r\n      throw new Error('No data received from server');\r\n    }\r\n\r\n    return {\r\n      class: response.data.predicted_class || response.data.class,\r\n      confidence: response.data.confidence || response.data.probability,\r\n      gradcam: response.data.gradcam_image || response.data.heatmap,\r\n      original: response.data.preprocessed_image || response.data.original\r\n    };\r\n  } catch (error) {\r\n    if (error.response) {\r\n      // Server responded with error\r\n      throw new Error(error.response.data.detail || error.response.data.message || 'Server error');\r\n    } else if (error.request) {\r\n      // Request made but no response\r\n      throw new Error('No response from server. Please check if the server is running.');\r\n    } else {\r\n      // Error in request setup\r\n      throw new Error(error.message);\r\n    }\r\n  }\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG,uBAAuB;AAE5C,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAOC,IAAI,EAAEC,SAAS,KAAK;EACtD,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEJ,IAAI,CAAC;EAC9BE,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAEH,SAAS,CAAC;EAExC,IAAI;IACF,MAAMI,QAAQ,GAAG,MAAMR,KAAK,CAACS,IAAI,CAAC,GAAGR,YAAY,WAAW,EAAEI,QAAQ,EAAE;MACtEK,OAAO,EAAE;QACP,cAAc,EAAE,qBAAqB;QACrC,QAAQ,EAAE;MACZ;IACF,CAAC,CAAC;IAEF,IAAI,CAACF,QAAQ,CAACG,IAAI,EAAE;MAClB,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;IACjD;IAEA,OAAO;MACLC,KAAK,EAAEL,QAAQ,CAACG,IAAI,CAACG,eAAe,IAAIN,QAAQ,CAACG,IAAI,CAACE,KAAK;MAC3DE,UAAU,EAAEP,QAAQ,CAACG,IAAI,CAACI,UAAU,IAAIP,QAAQ,CAACG,IAAI,CAACK,WAAW;MACjEC,OAAO,EAAET,QAAQ,CAACG,IAAI,CAACO,aAAa,IAAIV,QAAQ,CAACG,IAAI,CAACQ,OAAO;MAC7DC,QAAQ,EAAEZ,QAAQ,CAACG,IAAI,CAACU,kBAAkB,IAAIb,QAAQ,CAACG,IAAI,CAACS;IAC9D,CAAC;EACH,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,IAAIA,KAAK,CAACd,QAAQ,EAAE;MAClB;MACA,MAAM,IAAII,KAAK,CAACU,KAAK,CAACd,QAAQ,CAACG,IAAI,CAACY,MAAM,IAAID,KAAK,CAACd,QAAQ,CAACG,IAAI,CAACa,OAAO,IAAI,cAAc,CAAC;IAC9F,CAAC,MAAM,IAAIF,KAAK,CAACG,OAAO,EAAE;MACxB;MACA,MAAM,IAAIb,KAAK,CAAC,iEAAiE,CAAC;IACpF,CAAC,MAAM;MACL;MACA,MAAM,IAAIA,KAAK,CAACU,KAAK,CAACE,OAAO,CAAC;IAChC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}